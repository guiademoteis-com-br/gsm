import{ref as u,createApp as d,onMounted as m,nextTick as p}from"https://unpkg.com/vue@3/dist/vue.esm-browser.prod.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();async function g(o){const t=await fetch(`https://guiasites.guiademoteis.com.br/v1/guiasites/moteis/${o}/json`);if(!t.ok)throw new Error(`Erro: ${t.message}`);return t.json()}async function y(o,t=60){const n=`GsmCache:IdMotel=${o}-${navigator.userAgent}`,s=localStorage.getItem(n);if(s){const{expiracao:r,valor:a}=JSON.parse(s);if(Date.now()<r)return console.log(`âœ… CACHE UTILIZADO â†’ ${n}`),a;console.log("â³ CACHE EXPIRADO â†’ buscando novamente"),localStorage.removeItem(n)}console.log(`ðŸŒ REQUISIÃ‡ÃƒO REAL PARA O MOTEL DE ID â†’ ${o}`);const e=await g(o);return localStorage.setItem(n,JSON.stringify({expiracao:Date.now()+t*6e4,valor:e})),e}async function h(o){const t=+new URLSearchParams(location.search).get("id"),{Motel:n}=o,{Suites:s,...e}=n,r=(c=!0,i=[])=>s.filter(l=>![!c&&t,...i].includes(l.Id)),a=(c=null)=>s.find(i=>i.Id===(c??t));return{IdMotel:e.Id,NomeMotel:e.Nome,Telefones:e.Contato.Telefones,Celulares:e.Contato.Celulares,Whatsapps:e.Contato.Whatsapps,Alzira:e.Contato.Alzira,Emails:e.Contato.Emails,Logavel:e.Logavel,Reservas:e.Reservas,Suites:r,Suite:a}}function f(o=[],t="body"){o.forEach(n=>{const s=document.createElement("script");s.src=n,document.querySelector(t).appendChild(s)})}function S(o="",t="",n=null){return`${o}?${t}&id=${n}`}function C(o=null){return o.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}function I(o=[]){return new Intl.ListFormat("pt-BR",{style:"long",type:"conjunction"}).format(o.map(t=>t.Nome))}const L=Object.freeze(Object.defineProperty({__proto__:null,CarregarScript:f,Linkar:S,Listar:I,Precificar:C},Symbol.toStringTag,{value:"Module"}));window.Gsm=async function({El:t="",Id:n=null,Cache:s=60,Tick:e=null,Script:r=[]}={}){if(!document.querySelector(t))return;const a=u(!0),c=await y(n,s),i=await h(c);d({setup(){const l=u(i);return m(()=>{f(r),e&&p(e),a.value=!1}),{Carregando:a,Gm:l,Utils:L}}}).mount(t)};
